<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pc="http://primefaces.org/california"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <style>
        .active-menu {
            font-weight: bold;
            color: #0d6efd !important;
            background-color: #d9e6f7 !important;
        }
    </style>

    <div class="layout-sidebar" style="background: #EBEFF5; ">
        <div class="sidebar-scroll-content">

            <h:form id="menuform">
                <pc:menu widgetVar="CaliforniaMenuWidget" styleClass="custom-sidebar-menu">


                    <p:menuitem id="dashboard" value="Dashboard"
                                icon="pi pi-th-large"
                                styleClass="#{facesContext.viewRoot.viewId eq '/pages/dashboard/Dashboard.xhtml' ? 'active-menu' : ''}"
                                outcome="/pages/dashboard/Dashboard" />


                    <p:submenu id="goals" label="Manage Organization"
                               rendered="#{dashboard.loggedinUser.hasRole('ROLE_ADMINISTRATOR')}"
                               icon="fa fa-bullseye"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'organization')}">

                        <p:menuitem id="orgGoals" value="Organization Goals"

                                    outcome="/pages/goals/OrganizationGoalsView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/goals/OrganizationGoalsView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="organizationalKPIs" value="Organizational KPIs"
                                    outcome="/pages/kpis/OrganizationalKPIView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/kpis/OrganizationalKPIView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="organizationalActivities" value="Organizational Activities"
                                    outcome="/pages/activities/OrganizationalActivitiesView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/activities/OrganizationalActivitiesView.xhtml' ? 'active-menu' : ''}" />
                                
                        <p:menuitem id="organizationalKPIs" value="Organizational KPIs"
                                    icon="pi pi-chart-line"
                                    outcome="/pages/kpis/OrganizationalKPIView" />
                        <p:menuitem id="organizationalActivities" value="Organizational Activities"
                                    icon="pi pi-calendar"
                                    outcome="/pages/activities/OrganizationalActivitiesView" />
                    </p:submenu>


                    <p:submenu id="kpis" label="Manage KPIs"
                               icon="pi pi-fw pi-chart-line"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'kpis')}">

                        <p:menuitem id="allKPIs" value="All KPIs"
                                    outcome="/pages/kpis/KPIView"
                                    rendered="#{dashboard.loggedinUser.hasRole('ROLE_ADMINISTRATOR')}"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/kpis/KPIView.xhtml' ? 'active-menu' : ''}" />
                                 
                        <p:menuitem id="individualKPI" value="Individual KPI"
                                    icon="pi pi-user"
                                    outcome="/pages/kpis/IndividualKPIForm" />

                    </p:submenu>


                    <p:submenu id="activities" label="Manage Activities"
                               icon="pi pi-fw pi-calendar"
                               rendered="#{dashboard.loggedinUser.hasRole('ROLE_ADMINISTRATOR')}"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'activities')}">
                        <p:menuitem id="allActivities" value="All Activities"
                                    outcome="/pages/activities/ActivitiesView"

                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/activities/ActivitiesView.xhtml' ? 'active-menu' : ''}" />
                                  
                        <p:menuitem id="individualActivity" value="Individual Activity"
                                    icon="pi pi-user"
                                    outcome="/pages/activities/IndividualActivityFormDialog" />
                    </p:submenu>


                    <p:submenu id="department" label="Manage Department"
                               rendered="#{dashboard.loggedinUser.hasRole('Department Lead')}"
                               icon="fa fa-building"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'Department')}">

                        <p:menuitem id="departmentGoals" value="Goals"
                                    outcome="/pages/goals/DepartmentGoalView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/goals/DepartmentGoalView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="departmentKPIs" value="Department KPIs"
                                    outcome="/pages/kpis/DepartmentKPIView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/kpis/DepartmentKPIView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="departmentActivities" value="Department Activities"
                                    outcome="/pages/activities/DepartmentActivitiesView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/activities/DepartmentActivitiesView.xhtml' ? 'active-menu' : ''}" />
                        <p:menuitem id="departmentKPIs" value="Department KPIs"
                                    icon="pi pi-chart-line"
                                    outcome="/pages/kpis/DepartmentKPIView" />
                        <p:menuitem id="departmentActivities" value="Department Activities"
                                    icon="pi pi-calendar"
                                    outcome="/pages/activities/DepartmentActivitiesView" />
                    </p:submenu>


                    <p:submenu id="team" label="Manage Team"
                               rendered="#{dashboard.loggedinUser.hasRole('Team Lead')}"
                               icon="fa fa-users"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'Team')}">

                        <p:menuitem id="teamGoals" value="Team Goals"
                                    outcome="/pages/goals/TeamGoalView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/goals/TeamGoalView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="teamKPIs" value="Team KPIs"
                                    outcome="/pages/kpis/TeamKPIView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/kpis/TeamKPIView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="teamActivities" value="Team Activities"
                                    outcome="/pages/activities/TeamActivitiesView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/activities/TeamActivitiesView.xhtml' ? 'active-menu' : ''}" />
                        <p:menuitem id="teamKPIs" value="Team KPIs"
                                    icon="pi pi-chart-line"
                                    outcome="/pages/kpis/TeamKPIView" />
                        <p:menuitem id="teamActivities" value="Team Activities"
                                    icon="pi pi-calendar"
                                    outcome="/pages/activities/TeamActivitiesView" />
                    </p:submenu>


                    <p:menuitem id="organizationStructure" value="Organization Structure"
                                icon="pi pi-sitemap"
                                outcome="/pages/organizationstructure/OrganizationStructure"
                                styleClass="#{facesContext.viewRoot.viewId eq '/pages/organizationstructure/OrganizationStructure.xhtml' ? 'active-menu' : ''}" />


                    <p:submenu id="settings" label="Manage Users"
                               rendered="#{dashboard.loggedinUser.hasRole('ROLE_ADMINISTRATOR')}"
                               icon="pi pi-fw pi-user"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'users')}">

                        <p:menuitem id="users" value="Users" icon="pi pi-fw pi-users"
                                    outcome="/pages/users/UsersView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/users/UsersView.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem id="roles" value="Roles" icon="pi pi-fw pi-lock"
                                    outcome="/pages/users/RolesView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/users/RolesView.xhtml' ? 'active-menu' : ''}" />
                    </p:submenu>
                    <p:submenu label="My goals"
                               icon="pi pi-fw pi-cog"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'goals')}">

                        <p:menuitem value="Goals"
                                    outcome="/pages/goals/IndividualGoalsView"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/goals/IndividualGoalsView.xhtml' ? 'active-menu' : ''}" />


                    </p:submenu>

                    <p:submenu label="Organization Configuration"
                               rendered="#{dashboard.loggedinUser.hasRole('ROLE_ADMINISTRATOR')}"
                               icon="pi pi-fw pi-cog"
                               expanded="#{fn:contains(facesContext.viewRoot.viewId, 'systemSetup')}">

                        <p:menuitem value="Manage Global Weights"
                                    outcome="/pages/systemSetup/GlobalWeightTable"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/systemSetup/GlobalWeightTable.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem value="Organizational Fit Categories"
                                    outcome="/pages/systemSetup/OrgFitCategoryTable"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/systemSetup/OrgFitCategoryTable.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem value="Review Cycles"
                                    outcome="/pages/systemSetup/ReviewCycleTable"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/systemSetup/ReviewCycleTable.xhtml' ? 'active-menu' : ''}" />

                        <p:menuitem value="Manage Thresholds"
                                    outcome="/pages/systemSetup/ThresholdTable"
                                    styleClass="#{facesContext.viewRoot.viewId eq '/pages/systemSetup/ThresholdTable.xhtml' ? 'active-menu' : ''}" />
                                  
                        <p:menuitem value="Organizational Fit Categories"
                                    icon="pi pi-cog"
                                    outcome="/pages/systemSetup/OrgFitCategoryTable" />
                        <p:menuitem value="Review Cycles"
                                    icon="pi pi-cog"
                                    outcome="/pages/systemSetup/ReviewCycleTable" />
                        <p:menuitem value="Manage Thresholds"
                                    icon="pi pi-cog"
                                    outcome="/pages/systemSetup/ThresholdTable" />
                    </p:submenu>


                    <p:menuitem id="logout" value="Logout" icon="pi pi-sign-out"
                                url="#{request.contextPath}/ServiceLogout"
                                style="margin-bottom: 0" />
                </pc:menu>
            </h:form>

        </div>
    </div>
</ui:composition>
